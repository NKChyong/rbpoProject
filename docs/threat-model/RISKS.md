# Risk Register - Reading List API

> **–ü—Ä–æ–µ–∫—Ç:** Reading List API
> **–í–µ—Ä—Å–∏—è:** 1.0
> **–î–∞—Ç–∞:** –û–∫—Ç—è–±—Ä—å 2025
> **–ê–≤—Ç–æ—Ä:** NKChyong

## –í–≤–µ–¥–µ–Ω–∏–µ

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–µ—Å—Ç—Ä —Ä–∏—Å–∫–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è Reading List API. –†–∏—Å–∫–∏ –æ—Ü–µ–Ω–µ–Ω—ã –ø–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ (L - Likelihood) –∏ –≤–ª–∏—è–Ω–∏—é (I - Impact), –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ —Å–≤—è–∑–∞–Ω—ã —Å —É–≥—Ä–æ–∑–∞–º–∏ –∏–∑ [STRIDE.md](./STRIDE.md) –∏ –ø–æ—Ç–æ–∫–∞–º–∏ –∏–∑ [DFD.md](./DFD.md).

---

## 1. –®–∫–∞–ª–∞ –æ—Ü–µ–Ω–∫–∏ —Ä–∏—Å–∫–æ–≤

### –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å (Likelihood - L)

| –£—Ä–æ–≤–µ–Ω—å | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|----------|
| 1 - –û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è | 1 | –ú–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —É—Å–ª–æ–≤–∏–π |
| 2 - –ù–∏–∑–∫–∞—è | 2 | –í–æ–∑–º–æ–∂–Ω–æ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞—Ö |
| 3 - –°—Ä–µ–¥–Ω—è—è | 3 | –í–µ—Ä–æ—è—Ç–Ω–æ –ø—Ä–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö |
| 4 - –í—ã—Å–æ–∫–∞—è | 4 | –û—á–µ–Ω—å –≤–µ—Ä–æ—è—Ç–Ω–æ –±–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–µ–π |
| 5 - –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | 5 | –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –±–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–µ–π |

### –í–ª–∏—è–Ω–∏–µ (Impact - I)

| –£—Ä–æ–≤–µ–Ω—å | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|----------|
| 1 - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ | 1 | –ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –±–∏–∑–Ω–µ—Å |
| 2 - –ù–∏–∑–∫–æ–µ | 2 | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| 3 - –°—Ä–µ–¥–Ω–µ–µ | 3 | –ó–∞–º–µ—Ç–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–¥–∞–Ω–Ω—ã–µ |
| 4 - –í—ã—Å–æ–∫–æ–µ | 4 | –°–µ—Ä—å–µ–∑–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ, —É—Ç–µ—á–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |
| 5 - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ | 5 | –ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–æ–µ –≤–ª–∏—è–Ω–∏–µ, –ø–æ–ª–Ω–∞—è –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è |

### –£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞ (Risk Score = L √ó I)

| Risk Score | –£—Ä–æ–≤–µ–Ω—å | –¶–≤–µ—Ç | –î–µ–π—Å—Ç–≤–∏—è |
|------------|---------|------|----------|
| 1-4 | –ù–∏–∑–∫–∏–π | üü¢ Green | –ü—Ä–∏–Ω—è—Ç—å –∏–ª–∏ —Å–Ω–∏–∑–∏—Ç—å –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ |
| 5-9 | –°—Ä–µ–¥–Ω–∏–π | üü° Yellow | –°–Ω–∏–∑–∏—Ç—å –≤ –ø–ª–∞–Ω–æ–≤–æ–º –ø–æ—Ä—è–¥–∫–µ |
| 10-14 | –í—ã—Å–æ–∫–∏–π | üü† Orange | –°–Ω–∏–∑–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ |
| 15-25 | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | üî¥ Red | –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è |

---

## 2. –†–µ–µ—Å—Ç—Ä —Ä–∏—Å–∫–æ–≤

| Risk ID | –û–ø–∏—Å–∞–Ω–∏–µ | –°–≤—è–∑—å (–ü–æ—Ç–æ–∫/NFR/STRIDE) | L | I | Risk | –£—Ä–æ–≤–µ–Ω—å | –°—Ç—Ä–∞—Ç–µ–≥–∏—è | –í–ª–∞–¥–µ–ª–µ—Ü | –°—Ä–æ–∫ | –°—Ç–∞—Ç—É—Å | –ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è |
|---------|----------|--------------------------|---|---|------|---------|-----------|----------|------|--------|-------------------|
| **R1** | –ú–∞—Å—Å–æ–≤–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–æ—Ç–∞–º–∏ | F2, NFR-07, R1 | 3 | 3 | 9 | üü° –°—Ä–µ–¥–Ω–∏–π | –°–Ω–∏–∑–∏—Ç—å | @aNd1CE | 2025-11-15 | üîÑ Planned | Rate limiting 100 req/min —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω + integration —Ç–µ—Å—Ç—ã |
| **R2** | XSS —á–µ—Ä–µ–∑ –ø–æ–ª—è title/link | F5, NFR-04, R10 | 2 | 4 | 8 | üü° –°—Ä–µ–¥–Ω–∏–π | –°–Ω–∏–∑–∏—Ç—å | @aNd1CE | 2025-10-20 | ‚úÖ Mitigated | Pydantic validation + React escaping + SAST (Semgrep) |
| **R3** | SQL Injection –≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö | F4, NFR-09, R9 | 2 | 5 | 10 | üü† –í—ã—Å–æ–∫–∏–π | –°–Ω–∏–∑–∏—Ç—å | @aNd1CE | 2025-10-18 | ‚úÖ Mitigated | 100% ORM usage + Semgrep rules + unit tests |
| **R4** | –ë—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫–∞ –Ω–∞ /login | F3, NFR-01, NFR-07, R4 | 4 | 4 | 16 | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | –°–Ω–∏–∑–∏—Ç—å | @aNd1CE | 2025-11-15 | üîÑ Partial | Bcrypt CF=12 ‚úÖ + Rate limiting üîÑ |
| **R5** | IDOR: –¥–æ—Å—Ç—É–ø –∫ —á—É–∂–∏–º entries | F4, F14, NFR-09, R7, R20 | 3 | 5 | 15 | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | –°–Ω–∏–∑–∏—Ç—å | @aNd1CE | 2025-10-18 | ‚úÖ Mitigated | owner_id filtering + RBAC + integration —Ç–µ—Å—Ç—ã |
| **R6** | –£—Ç–µ—á–∫–∞ plain-text –ø–∞—Ä–æ–ª–µ–π –ø—Ä–∏ DB breach | F13, NFR-01, R18 | 2 | 5 | 10 | üü† –í—ã—Å–æ–∫–∏–π | –°–Ω–∏–∑–∏—Ç—å | @aNd1CE | 2025-10-18 | ‚úÖ Mitigated | Bcrypt CF=12 + unit tests (no plain-text storage) |
| **R7** | –ü–æ–¥–¥–µ–ª–∫–∞ JWT —Ç–æ–∫–µ–Ω–∞ | F9, NFR-02, R15 | 2 | 5 | 10 | üü† –í—ã—Å–æ–∫–∏–π | –°–Ω–∏–∑–∏—Ç—å | @aNd1CE | 2025-10-18 | ‚úÖ Mitigated | Strong secret (256+ bit) + HS256 + TTL 15min |
| **R8** | User enumeration —á–µ—Ä–µ–∑ error messages | F3, NFR-04, R5 | 3 | 3 | 9 | üü° –°—Ä–µ–¥–Ω–∏–π | –°–Ω–∏–∑–∏—Ç—å | @aNd1CE | 2025-10-18 | ‚úÖ Mitigated | Generic error "Invalid credentials" + unit tests |
| **R9** | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –ø–æ—Å–ª–µ logout | F9, NFR-02, R16 | 3 | 4 | 12 | üü† –í—ã—Å–æ–∫–∏–π | –°–Ω–∏–∑–∏—Ç—å | @aNd1CE | 2025-10-18 | ‚úÖ Mitigated | Token blacklist/revocation + logout endpoint |
| **R10** | DoS —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ entries | F5, NFR-07, R11 | 3 | 3 | 9 | üü° –°—Ä–µ–¥–Ω–∏–π | –°–Ω–∏–∑–∏—Ç—å | @aNd1CE | 2025-11-15 | üîÑ Planned | Rate limiting 1000 req/min per user + quotas |
| **R11** | MITM –≤ internal network (Nginx ‚Üî Backend) | F7, NFR-06, R14 | 2 | 4 | 8 | üü° –°—Ä–µ–¥–Ω–∏–π | –ü—Ä–∏–Ω—è—Ç—å (MVP) | @aNd1CE | 2025-12-01 | üìù Accepted | mTLS –¥–ª—è production (P05-Infrastructure) |
| **R12** | –£—Ç–µ—á–∫–∞ JWT –≤ –ª–æ–≥–∞—Ö –∏–ª–∏ error messages | F9, NFR-08, R17 | 2 | 4 | 8 | üü° –°—Ä–µ–¥–Ω–∏–π | –°–Ω–∏–∑–∏—Ç—å | @aNd1CE | 2025-10-18 | ‚úÖ Mitigated | JWT —Ç–æ–ª—å–∫–æ –≤ header + log filtering + code review |

**–ò—Ç–æ–≥–æ —Ä–∏—Å–∫–æ–≤:** 12
**–°—Ç–∞—Ç—É—Å:**
- ‚úÖ Mitigated: 8
- üîÑ Planned: 3
- üìù Accepted: 1

---

## 3. –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∏—Å–∫–æ–≤

### R1: –ú–∞—Å—Å–æ–≤–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–æ—Ç–∞–º–∏

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ê—Ç–∞–∫—É—é—â–∏–π –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç–æ–≤ –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –º—É—Å–æ—Ä–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ potential DoS.

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ü–æ—Ç–æ–∫: F2 (POST /api/v1/auth/register)
- STRIDE: R1 (Spoofing), R3 (DoS)
- NFR: NFR-07 (Rate Limiting)

**–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞:**
- **Likelihood:** 3 (–°—Ä–µ–¥–Ω—è—è) - –∞—Ç–∞–∫–∏ –±–æ—Ç–æ–≤ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- **Impact:** 3 (–°—Ä–µ–¥–Ω–µ–µ) - –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ë–î, –Ω–æ –Ω–µ –ø—Ä—è–º–∞—è —É—Ç–µ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **Risk Score:** 9 üü°

**–¢–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏:**
- –ù–µ—Ç (–≤ MVP)

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –°–Ω–∏–∑–∏—Ç—å

**–ü–ª–∞–Ω —Å–Ω–∏–∂–µ–Ω–∏—è:**
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å rate limiting: 100 req/min per IP –¥–ª—è /register
2. –î–æ–±–∞–≤–∏—Ç—å CAPTCHA (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –±—É–¥—É—â–µ–≥–æ)
3. Email verification (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–í–ª–∞–¥–µ–ª–µ—Ü:** @aNd1CE

**–°—Ä–æ–∫:** 2025-11-15 (P06-Security-Hardening)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:**
- ‚úÖ Rate limiting middleware —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (slowapi)
- ‚úÖ Integration —Ç–µ—Å—Ç—ã: 100 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –ø—Ä–æ—Ö–æ–¥—è—Ç, 101-—è –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è (HTTP 429)
- ‚úÖ X-RateLimit-* headers –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç

**–°—Ç–∞—Ç—É—Å:** üîÑ Planned

---

### R2: XSS —á–µ—Ä–µ–∑ –ø–æ–ª—è title/link

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ê—Ç–∞–∫—É—é—â–∏–π –º–æ–∂–µ—Ç –≤–Ω–µ–¥—Ä–∏—Ç—å JavaScript –∫–æ–¥ —á–µ—Ä–µ–∑ –ø–æ–ª—è `title` –∏–ª–∏ `link` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ entry, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Stored XSS).

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ü–æ—Ç–æ–∫: F5 (POST /api/v1/entries)
- STRIDE: R10 (Tampering)
- NFR: NFR-04 (Structured Errors)

**–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞:**
- **Likelihood:** 2 (–ù–∏–∑–∫–∞—è) - —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±—Ö–æ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **Impact:** 4 (–í—ã—Å–æ–∫–æ–µ) - –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–µ—Å—Å–∏–π
- **Risk Score:** 8 üü°

**–¢–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏:**
- ‚úÖ Pydantic validation –Ω–∞ backend (max length, required fields)
- ‚úÖ React –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç output
- ‚úÖ Content-Security-Policy header (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –°–Ω–∏–∑–∏—Ç—å

**–í–ª–∞–¥–µ–ª–µ—Ü:** @aNd1CE

**–°—Ä–æ–∫:** 2025-10-20

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:**
- ‚úÖ Unit tests: –ø–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å entry —Å `<script>alert('XSS')</script>` –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è
- ‚úÖ Semgrep –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è XSS –≤ CI
- ‚úÖ Manual testing: React –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Mitigated

---

### R3: SQL Injection –≤ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ê—Ç–∞–∫—É—é—â–∏–π –º–æ–∂–µ—Ç –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤–Ω–µ–¥—Ä–∏—Ç—å SQL –∫–æ–¥ —á–µ—Ä–µ–∑ query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `?status=`), —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—Ç–µ—á–∫–µ –∏–ª–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ü–æ—Ç–æ–∫: F4 (GET /api/v1/entries?status=)
- STRIDE: R9 (Tampering)
- NFR: NFR-09 (SQL Injection Protection)

**–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞:**
- **Likelihood:** 2 (–ù–∏–∑–∫–∞—è) - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ORM —Å–Ω–∏–∂–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å
- **Impact:** 5 (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ) - –ø–æ–ª–Ω–∞—è –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è –ë–î
- **Risk Score:** 10 üü†

**–¢–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏:**
- ‚úÖ 100% –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SQLAlchemy ORM
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (ORM –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- ‚úÖ Pydantic validation –¥–ª—è enum values (kind, status)
- ‚úÖ Semgrep –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è raw SQL

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –°–Ω–∏–∑–∏—Ç—å

**–í–ª–∞–¥–µ–ª–µ—Ü:** @aNd1CE

**–°—Ä–æ–∫:** 2025-10-18

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:**
- ‚úÖ Semgrep scan: 0 SQL injection vulnerabilities
- ‚úÖ Code review: –Ω–µ—Ç raw SQL —Å –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–µ–π —Å—Ç—Ä–æ–∫
- ‚úÖ Unit tests: `?status=' OR '1'='1` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Mitigated

---

### R4: –ë—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫–∞ –Ω–∞ /login

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ê—Ç–∞–∫—É—é—â–∏–π –º–æ–∂–µ—Ç –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–¥–æ–±—Ä–∞—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–µ–±–æ—Ä (brute force) –Ω–∞ endpoint /login.

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ü–æ—Ç–æ–∫: F3 (POST /api/v1/auth/login)
- STRIDE: R4 (Spoofing)
- NFR: NFR-01 (Password Storage), NFR-07 (Rate Limiting)

**–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞:**
- **Likelihood:** 4 (–í—ã—Å–æ–∫–∞—è) - —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–∞—è –∞—Ç–∞–∫–∞
- **Impact:** 4 (–í—ã—Å–æ–∫–æ–µ) - –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞
- **Risk Score:** 16 üî¥

**–¢–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏:**
- ‚úÖ Bcrypt —Å cost factor 12 (–∑–∞–º–µ–¥–ª—è–µ—Ç –ø–µ—Ä–µ–±–æ—Ä)
- ‚úÖ NFR-03: p95 < 300ms (–Ω–æ ~250ms –Ω–∞ bcrypt - –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–±–æ—Ä–∞)
- ‚ùå Rate limiting –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–≤ MVP)

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –°–Ω–∏–∑–∏—Ç—å

**–ü–ª–∞–Ω —Å–Ω–∏–∂–µ–Ω–∏—è:**
1. ‚úÖ Bcrypt CF=12 —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
2. üîÑ Rate limiting: 10 failed attempts per IP per 15 min
3. üîÑ Account lockout –ø–æ—Å–ª–µ N –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–í–ª–∞–¥–µ–ª–µ—Ü:** @aNd1CE

**–°—Ä–æ–∫:** 2025-11-15 (P06-Security-Hardening –¥–ª—è rate limiting)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:**
- ‚úÖ Bcrypt CF=12 unit tests passed
- üîÑ Rate limiting: 10 failed logins ‚Üí HTTP 429
- üîÑ Load test: –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è

**–°—Ç–∞—Ç—É—Å:** üîÑ Partial (Bcrypt ‚úÖ, Rate limiting üîÑ)

---

### R5: IDOR: –¥–æ—Å—Ç—É–ø –∫ —á—É–∂–∏–º entries

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ê—Ç–∞–∫—É—é—â–∏–π –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å ID –≤ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, GET /api/v1/entries/123) –∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∑–∞–ø–∏—Å—è–º –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Insecure Direct Object Reference).

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ü–æ—Ç–æ–∫–∏: F4 (GET /entries), F14 (DB Query)
- STRIDE: R7, R20 (Elevation of Privilege)
- NFR: NFR-09 (SQL Injection Protection)

**–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞:**
- **Likelihood:** 3 (–°—Ä–µ–¥–Ω—è—è) - –ø—Ä–æ—Å—Ç–∞—è –∞—Ç–∞–∫–∞, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞–Ω–∏—è ID
- **Impact:** 5 (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ) - —É—Ç–µ—á–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
- **Risk Score:** 15 üî¥

**–¢–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏:**
- ‚úÖ owner_id filtering –≤–æ –≤—Å–µ—Ö SQL queries
- ‚úÖ RBAC: —Ç–æ–ª—å–∫–æ admin –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –≤—Å–µ entries
- ‚úÖ Integration —Ç–µ—Å—Ç—ã: test_get_entry_forbidden

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –°–Ω–∏–∑–∏—Ç—å

**–í–ª–∞–¥–µ–ª–µ—Ü:** @aNd1CE

**–°—Ä–æ–∫:** 2025-10-18 (MVP)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:**
- ‚úÖ –í—Å–µ CRUD endpoints –ø—Ä–æ–≤–µ—Ä—è—é—Ç owner_id
- ‚úÖ Integration —Ç–µ—Å—Ç—ã: user A –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å entry user B (HTTP 403)
- ‚úÖ Code review: –≤—Å–µ queries –≤–∫–ª—é—á–∞—é—Ç `WHERE owner_id = current_user_id`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Mitigated

---

### R6: –£—Ç–µ—á–∫–∞ plain-text –ø–∞—Ä–æ–ª–µ–π –ø—Ä–∏ DB breach

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–∞ (SQL injection, –∏–Ω—Å–∞–π–¥–µ—Ä, backup leak), –ø–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º–æ–≥—É—Ç –±—ã—Ç—å —É–∫—Ä–∞–¥–µ–Ω—ã.

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ü–æ—Ç–æ–∫: F13 (User Service ‚Üí PostgreSQL)
- STRIDE: R18 (Information Disclosure)
- NFR: NFR-01 (Password Storage)

**–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞:**
- **Likelihood:** 2 (–ù–∏–∑–∫–∞—è) - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è –ë–î
- **Impact:** 5 (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ) - –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è –≤—Å–µ—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- **Risk Score:** 10 üü†

**–¢–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏:**
- ‚úÖ Bcrypt hashing —Å CF=12
- ‚úÖ –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è plain-text –ø–∞—Ä–æ–ª–∏
- ‚úÖ Unit tests –ø—Ä–æ–≤–µ—Ä—è—é—Ç, —á—Ç–æ password_hash != plain_password

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –°–Ω–∏–∑–∏—Ç—å

**–í–ª–∞–¥–µ–ª–µ—Ü:** @aNd1CE

**–°—Ä–æ–∫:** 2025-10-18 (MVP)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:**
- ‚úÖ 100% –ø–∞—Ä–æ–ª–µ–π —Ö–µ—à–∏—Ä–æ–≤–∞–Ω—ã —Å Bcrypt CF‚â•12
- ‚úÖ Code review: –Ω–µ—Ç plain-text –ø–∞—Ä–æ–ª–µ–π –≤ –ë–î, –ª–æ–≥–∞—Ö, config
- ‚úÖ Unit tests: `user.password_hash.startswith('$2b$12$')`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Mitigated

---

### R7: –ü–æ–¥–¥–µ–ª–∫–∞ JWT —Ç–æ–∫–µ–Ω–∞

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ê—Ç–∞–∫—É—é—â–∏–π –º–æ–∂–µ—Ç –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–¥–¥–µ–ª–∞—Ç—å JWT —Ç–æ–∫–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ —Å–ª–∞–±—ã–π —Å–µ–∫—Ä–µ—Ç –∏–ª–∏ —É—è–∑–≤–∏–º–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ü–æ—Ç–æ–∫: F9 (JWT Validation)
- STRIDE: R15 (Spoofing)
- NFR: NFR-02 (JWT Tokens)

**–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞:**
- **Likelihood:** 2 (–ù–∏–∑–∫–∞—è) - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–Ω–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞ –∏–ª–∏ —É—è–∑–≤–∏–º–æ—Å—Ç—å
- **Impact:** 5 (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ) - –ø–æ–ª–Ω–∞—è –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **Risk Score:** 10 üü†

**–¢–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏:**
- ‚úÖ Strong JWT secret (256+ –±–∏—Ç, random)
- ‚úÖ –ê–ª–≥–æ—Ä–∏—Ç–º HS256 (–±–µ–∑–æ–ø–∞—Å–Ω—ã–π)
- ‚úÖ –ö–æ—Ä–æ—Ç–∫–∏–π TTL: access=15min, refresh=7days
- ‚úÖ –°–µ–∫—Ä–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ environment variables

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –°–Ω–∏–∑–∏—Ç—å

**–í–ª–∞–¥–µ–ª–µ—Ü:** @aNd1CE

**–°—Ä–æ–∫:** 2025-10-18 (MVP)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:**
- ‚úÖ JWT secret ‚â• 256 –±–∏—Ç
- ‚úÖ Unit tests: –ø–æ–¥–¥–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è
- ‚úÖ Config review: —Å–µ–∫—Ä–µ—Ç –Ω–µ –≤ –∫–æ–¥–µ/git

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Mitigated

---

### R8: User enumeration —á–µ—Ä–µ–∑ error messages

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ê—Ç–∞–∫—É—é—â–∏–π –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Ä–∞–∑–ª–∏—á–∏—è–º –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –æ–± –æ—à–∏–±–∫–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, "User not found" vs "Wrong password").

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ü–æ—Ç–æ–∫: F3 (POST /api/v1/auth/login)
- STRIDE: R5 (Information Disclosure)
- NFR: NFR-04 (Structured Errors)

**–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞:**
- **Likelihood:** 3 (–°—Ä–µ–¥–Ω—è—è) - –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è
- **Impact:** 3 (–°—Ä–µ–¥–Ω–µ–µ) - –ø–æ–º–æ–≥–∞–µ—Ç –∞—Ç–∞–∫–∞–º, –Ω–æ –Ω–µ –ø—Ä—è–º–∞—è —É—Ç–µ—á–∫–∞
- **Risk Score:** 9 üü°

**–¢–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏:**
- ‚úÖ Generic error: "Invalid credentials" –¥–ª—è –ª—é–±—ã—Ö –æ—à–∏–±–æ–∫ –ª–æ–≥–∏–Ω–∞
- ‚úÖ Unit tests –ø—Ä–æ–≤–µ—Ä—è—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ—à–∏–±–∫–∏

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –°–Ω–∏–∑–∏—Ç—å

**–í–ª–∞–¥–µ–ª–µ—Ü:** @aNd1CE

**–°—Ä–æ–∫:** 2025-10-18 (MVP)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:**
- ‚úÖ Login —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º email ‚Üí "Invalid credentials"
- ‚úÖ Login —Å –Ω–µ–≤–µ—Ä–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º ‚Üí "Invalid credentials"
- ‚úÖ Unit tests: `test_login_nonexistent_user` –∏ `test_login_invalid_credentials` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ—à–∏–±–∫–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Mitigated

---

### R9: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –ø–æ—Å–ª–µ logout

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±—ã–ª —É–∫—Ä–∞–¥–µ–Ω –¥–æ logout, –∞—Ç–∞–∫—É—é—â–∏–π –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –ø–æ—Å–ª–µ logout –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è TTL.

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ü–æ—Ç–æ–∫: F9 (JWT Validation)
- STRIDE: R16 (Repudiation)
- NFR: NFR-02 (JWT Tokens)

**–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞:**
- **Likelihood:** 3 (–°—Ä–µ–¥–Ω—è—è) - —Ç—Ä–µ–±—É–µ—Ç—Å—è —É–∫—Ä–∞–¥–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
- **Impact:** 4 (–í—ã—Å–æ–∫–æ–µ) - –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **Risk Score:** 12 üü†

**–¢–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏:**
- ‚úÖ Logout endpoint –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç refresh token (blacklist)
- ‚úÖ –ö–æ—Ä–æ—Ç–∫–∏–π TTL access token (15 min) –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –æ–∫–Ω–æ –∞—Ç–∞–∫–∏
- ‚úÖ Unit tests: refresh token –ø–æ—Å–ª–µ logout –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –°–Ω–∏–∑–∏—Ç—å

**–í–ª–∞–¥–µ–ª–µ—Ü:** @aNd1CE

**–°—Ä–æ–∫:** 2025-10-18 (MVP)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:**
- ‚úÖ Logout –¥–æ–±–∞–≤–ª—è–µ—Ç refresh token –≤ blacklist
- ‚úÖ Unit test: `test_logout` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—é
- ‚úÖ Access token TTL = 15 min

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Mitigated

---

### R10: DoS —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ entries

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ê—Ç–∞–∫—É—é—â–∏–π –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ entries, –∑–∞–ø–æ–ª–Ω–∏–≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –≤—ã–∑–≤–∞–≤ DoS –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ü–æ—Ç–æ–∫: F5 (POST /api/v1/entries)
- STRIDE: R11 (Denial of Service)
- NFR: NFR-07 (Rate Limiting)

**–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞:**
- **Likelihood:** 3 (–°—Ä–µ–¥–Ω—è—è) - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –Ω–æ –ª–µ–≥–∫–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç—Å—è
- **Impact:** 3 (–°—Ä–µ–¥–Ω–µ–µ) - –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Risk Score:** 9 üü°

**–¢–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏:**
- ‚ùå –ù–µ—Ç (–≤ MVP)

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –°–Ω–∏–∑–∏—Ç—å

**–ü–ª–∞–Ω —Å–Ω–∏–∂–µ–Ω–∏—è:**
1. Rate limiting: 1000 req/min per authenticated user
2. Quotas –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ entries per user (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. DB monitoring –∏ –∞–ª–µ—Ä—Ç—ã

**–í–ª–∞–¥–µ–ª–µ—Ü:** @aNd1CE

**–°—Ä–æ–∫:** 2025-11-15 (P06-Security-Hardening)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:**
- ‚úÖ Rate limiting: 1000 POST /entries per user per minute
- ‚úÖ Integration tests: 1001-–π –∑–∞–ø—Ä–æ—Å ‚Üí HTTP 429
- üîÑ Quotas: –Ω–∞–ø—Ä–∏–º–µ—Ä, 10000 entries per user (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–°—Ç–∞—Ç—É—Å:** üîÑ Planned

---

### R11: MITM –≤ internal network (Nginx ‚Üî Backend)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É Nginx –∏ Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π HTTP, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–º—É –∞—Ç–∞–∫—É—é—â–µ–º—É –≤ internal network –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∏–ª–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫.

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ü–æ—Ç–æ–∫: F7 (Nginx ‚Üí FastAPI)
- STRIDE: R14 (Tampering)
- NFR: NFR-06 (HTTPS Only)

**–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞:**
- **Likelihood:** 2 (–ù–∏–∑–∫–∞—è) - —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è internal network
- **Impact:** 4 (–í—ã—Å–æ–∫–æ–µ) - –ø–µ—Ä–µ—Ö–≤–∞—Ç credentials/JWT
- **Risk Score:** 8 üü°

**–¢–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏:**
- ‚úÖ Docker network isolation (–æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø)
- ‚ùå –ù–µ—Ç TLS –º–µ–∂–¥—É Nginx –∏ Backend

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –ü—Ä–∏–Ω—è—Ç—å (–¥–ª—è MVP), –°–Ω–∏–∑–∏—Ç—å (–¥–ª—è production)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –í MVP internal network —Å—á–∏—Ç–∞–µ—Ç—Å—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º (Docker network)
- –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è mTLS

**–í–ª–∞–¥–µ–ª–µ—Ü:** @aNd1CE

**–°—Ä–æ–∫:** 2025-12-01 (P05-Infrastructure, –¥–ª—è production)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:**
- üìù Risk accepted –¥–ª—è MVP (documented)
- üîÑ mTLS –º–µ–∂–¥—É Nginx –∏ Backend –¥–ª—è production
- üîÑ Certificates rotation process

**–°—Ç–∞—Ç—É—Å:** üìù Accepted (MVP)

---

### R12: –£—Ç–µ—á–∫–∞ JWT –≤ –ª–æ–≥–∞—Ö –∏–ª–∏ error messages

**–û–ø–∏—Å–∞–Ω–∏–µ:**
JWT —Ç–æ–∫–µ–Ω –º–æ–∂–µ—Ç —Å–ª—É—á–∞–π–Ω–æ –ø–æ–ø–∞—Å—Ç—å –≤ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, error messages –∏–ª–∏ URL, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –µ–≥–æ —É—Ç–µ—á–∫–µ.

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**
- –ü–æ—Ç–æ–∫: F9 (JWT Validation)
- STRIDE: R17 (Information Disclosure)
- NFR: NFR-08 (Security Logging)

**–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞:**
- **Likelihood:** 2 (–ù–∏–∑–∫–∞—è) - —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—à–∏–±–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- **Impact:** 4 (–í—ã—Å–æ–∫–æ–µ) - –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏
- **Risk Score:** 8 üü°

**–¢–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏:**
- ‚úÖ JWT –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ Authorization header (–Ω–µ –≤ URL)
- ‚úÖ Structured logging —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç Authorization header
- ‚úÖ Code review: –Ω–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –°–Ω–∏–∑–∏—Ç—å

**–í–ª–∞–¥–µ–ª–µ—Ü:** @aNd1CE

**–°—Ä–æ–∫:** 2025-10-18 (MVP)

**–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–∫—Ä—ã—Ç–∏—è:**
- ‚úÖ Code review: –Ω–µ—Ç `logger.info(f"Token: {token}")`
- ‚úÖ Logs analysis: –Ω–µ—Ç JWT –≤ –ª–æ–≥–∞—Ö
- ‚úÖ No JWT –≤ URL query parameters

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Mitigated

---

## 4. –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ü–æ —É—Ä–æ–≤–Ω—é —Ä–∏—Å–∫–∞

| –£—Ä–æ–≤–µ–Ω—å | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ü—Ä–æ—Ü–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|---------|------------|---------|--------|
| üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (15-25) | 2 | 16.7% | 1 ‚úÖ Mitigated, 1 üîÑ Partial |
| üü† –í—ã—Å–æ–∫–∏–π (10-14) | 4 | 33.3% | 4 ‚úÖ Mitigated |
| üü° –°—Ä–µ–¥–Ω–∏–π (5-9) | 6 | 50.0% | 2 ‚úÖ Mitigated, 3 üîÑ Planned, 1 üìù Accepted |
| üü¢ –ù–∏–∑–∫–∏–π (1-4) | 0 | 0% | - |

### –ü–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

| –°—Ç—Ä–∞—Ç–µ–≥–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –†–∏—Å–∫–∏ |
|-----------|------------|-------|
| **–°–Ω–∏–∑–∏—Ç—å** (Mitigate) | 11 | R1-R10, R12 |
| **–ü—Ä–∏–Ω—è—Ç—å** (Accept) | 1 | R11 |
| **–ò–∑–±–µ–∂–∞—Ç—å** (Avoid) | 0 | - |
| **–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏** (Transfer) | 0 | - |

### –ü–æ —Å—Ç–∞—Ç—É—Å—É

| –°—Ç–∞—Ç—É—Å | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ü—Ä–æ—Ü–µ–Ω—Ç |
|--------|------------|---------|
| ‚úÖ Mitigated | 8 | 66.7% |
| üîÑ Planned | 3 | 25.0% |
| üìù Accepted | 1 | 8.3% |

---

## 5. Roadmap —Å–Ω–∏–∂–µ–Ω–∏—è —Ä–∏—Å–∫–æ–≤

### –§–∞–∑–∞ 1: MVP (P00) - ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

**–°—Ä–æ–∫:** 2025-10-18

**–†–∏—Å–∫–∏:**
- ‚úÖ R2: XSS —á–µ—Ä–µ–∑ title/link
- ‚úÖ R3: SQL Injection
- ‚úÖ R5: IDOR
- ‚úÖ R6: –£—Ç–µ—á–∫–∞ –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ R7: –ü–æ–¥–¥–µ–ª–∫–∞ JWT
- ‚úÖ R8: User enumeration
- ‚úÖ R9: –°–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –ø–æ—Å–ª–µ logout
- ‚úÖ R12: –£—Ç–µ—á–∫–∞ JWT –≤ –ª–æ–≥–∞—Ö

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- –í—Å–µ unit –∏ integration —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- SAST (Semgrep) checks passed
- Code review completed

---

### –§–∞–∑–∞ 2: Security Hardening (P06) - üîÑ –í —Ä–∞–±–æ—Ç–µ

**–°—Ä–æ–∫:** 2025-11-15

**–†–∏—Å–∫–∏:**
- üîÑ R1: –ú–∞—Å—Å–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–æ—Ç–∞–º–∏
- üîÑ R4: –ë—Ä—É—Ç—Ñ–æ—Ä—Å –Ω–∞ /login (rate limiting —á–∞—Å—Ç—å)
- üîÑ R10: DoS —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞–Ω–∏–µ entries

**–ü–ª–∞–Ω:**
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å rate limiting middleware (slowapi)
2. –î–æ–±–∞–≤–∏—Ç—å X-RateLimit-* headers
3. Integration —Ç–µ—Å—Ç—ã –¥–ª—è rate limits
4. Load testing –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è /register –∏ /login
- Integration —Ç–µ—Å—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –ª–∏–º–∏—Ç—ã
- Load test: —Å–∏—Å—Ç–µ–º–∞ —É—Å—Ç–æ–π—á–∏–≤–∞ –∫ 100 RPS

---

### –§–∞–∑–∞ 3: Infrastructure (P05) - üìù –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ

**–°—Ä–æ–∫:** 2025-12-01

**–†–∏—Å–∫–∏:**
- üìù R11: MITM –≤ internal network (–¥–ª—è production)

**–ü–ª–∞–Ω:**
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å mTLS –º–µ–∂–¥—É Nginx –∏ Backend
2. Certificates management process
3. Monitoring –¥–ª—è certificate expiration

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏:**
- mTLS –≤–∫–ª—é—á–µ–Ω –¥–ª—è production
- Certificates auto-rotation –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- Monitoring –∏ alerting —Ä–∞–±–æ—Ç–∞—é—Ç

---

## 6. –ú–µ—Ç—Ä–∏–∫–∏ –∏ KPI

### –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢–µ–∫—É—â–µ–µ | –¶–µ–ª–µ–≤–æ–µ | –°—Ä–æ–∫ |
|---------|---------|---------|------|
| –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∏—Å–∫–æ–≤ (üî¥) | 2 | 0 | 2025-11-15 |
| –í—ã—Å–æ–∫–∏—Ö —Ä–∏—Å–∫–æ–≤ (üü†) | 4 | 0 | 2025-11-15 |
| –°—Ä–µ–¥–Ω–∏—Ö —Ä–∏—Å–∫–æ–≤ (üü°) mitigated | 33% | 80% | 2025-12-01 |
| –ü–æ–∫—Ä—ã—Ç–∏–µ NFR –∫–æ–Ω—Ç—Ä–æ–ª—è–º–∏ | 80% | 100% | 2025-12-01 |
| SAST findings (Critical/High) | 0 | 0 | –ü–æ—Å—Ç–æ—è–Ω–Ω–æ |

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∏—Å–∫–æ–≤

- **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ:** SAST scans –≤ CI
- **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ:** Dependency vulnerability scan
- **–ï–∂–µ–º–µ—Å—è—á–Ω–æ:** Risk register review –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–ö–≤–∞—Ä—Ç–∞–ª—å–Ω–æ:** –ü–æ–ª–Ω—ã–π threat model review

---

## 7. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∏ —ç—Å–∫–∞–ª–∞—Ü–∏—è

### –í–ª–∞–¥–µ–ª—å—Ü—ã —Ä–∏—Å–∫–æ–≤

| –†–æ–ª—å | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å |
|------|-----------------|
| **@aNd1CE** (Developer) | –í—Å–µ —Ä–∏—Å–∫–∏ –≤ —Ç–µ–∫—É—â–µ–π —Ñ–∞–∑–µ |
| **Security Lead** (–µ—Å–ª–∏ –µ—Å—Ç—å) | –û–¥–æ–±—Ä–µ–Ω–∏–µ accepted risks, review mitigation |
| **Product Owner** | –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è, —Ä–µ—Å—É—Ä—Å—ã |

### –≠—Å–∫–∞–ª–∞—Ü–∏—è

| –£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞ | –≠—Å–∫–∞–ª–∞—Ü–∏—è |
|---------------|-----------|
| üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ ‚Üí Security Lead + Product Owner |
| üü† –í—ã—Å–æ–∫–∏–π | –í —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤ ‚Üí Security Lead |
| üü° –°—Ä–µ–¥–Ω–∏–π | –í —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏ ‚Üí Team Lead |
| üü¢ –ù–∏–∑–∫–∏–π | –ü–æ –º–µ—Ä–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ |

---

## 8. –°—Å—ã–ª–∫–∏

- [Data Flow Diagram (DFD)](./DFD.md)
- [STRIDE Analysis](./STRIDE.md)
- [NFR Documentation](../security-nfr/NFR.md)
- [OWASP Risk Rating Methodology](https://owasp.org/www-community/OWASP_Risk_Rating_Methodology)
- [NIST Risk Management Framework](https://csrc.nist.gov/projects/risk-management)

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞       | –í–µ—Ä—Å–∏—è | –ò–∑–º–µ–Ω–µ–Ω–∏—è                    | –ê–≤—Ç–æ—Ä    |
|------------|--------|------------------------------|----------|
| 2025-10-13 | 1.0    | –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è Risk Register  | NKChyong |
